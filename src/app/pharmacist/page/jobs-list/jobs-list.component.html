<div class="container">
    <div class="mx-3" style="top: 65px; left: 0px; right: 0px; position: fixed; z-index: 5; margin: 2rem 0; background: #f2f2f2;">
            <div  style="border-bottom: 1px lightgrey solid">
                <div *ngIf="!loadingFlag" class=" py-3 d-flex justify-content-between">
                    <div class="h2 d-flex flex-row ms-5 align-self-center" style="width:36rem">
                        {{ header }} <div class="fs-4 align-self-center ms-3">{{count}} ตำแหน่งงาน</div>
                    </div>
                    <div class="mx-3 d-flex justify-content-center align-items-center fs-5">
                        <div class="form-check form-switch me-1">
                            <label class="form-check-label" for="flexSwitchCheckDefault">{{nearestJobFlag?'งานใกล้ฉัน': 'พื้นที่'}}:</label>
                            <input class="form-check-input" type="checkbox" role="switch" (click)="onChangeEvent($event)" id="flexSwitchCheckDefault">
                        </div>
                        <div>
                            <div *ngIf="nearestJobFlag" class="input-group flex-nowrap" style="width:fit-content">
                                <input style="background-color:#e6e6e6" type="text" value="เลือกที่อยู่ของท่าน" class="form-control" aria-describedby="addon-wrapping">
                                <span class="input-group-text" id="addon-wrapping"><i class="bi bi-geo-alt"></i></span>
                            </div>
                            <div *ngIf="!nearestJobFlag" class="dropdown d-flex justify-content-between">
                                <div class="d-flex justify-content-around">
                                    <button class="me-3 btn dropdown-toggle" style="width: 8rem; background-color:#e6e6e6" type="button" data-bs-toggle="dropdown"> จังหวัด </button>
                                    <ul class="dropdown-menu dropdown-menu-end">
                                        <li>
                                            <a class="dropdown-item">ร้านยาทั่วไป</a>
                                        </li>
                                        <li>
                                            <a class="dropdown-item">ร้านยาแบรนด์</a>
                                        </li>
                                        <li>
                                            <a class="dropdown-item">โรงพยาบาล</a>
                                        </li>
                                        <li>
                                            <a class="dropdown-item">คลินิก</a>
                                        </li>
                                        <li>
                                            <a class="dropdown-item">โรงงาน</a>
                                        </li>
                                        <li>
                                            <a class="dropdown-item">บริษัท</a>
                                        </li>
                                        <li>
                                            <a class="dropdown-item">วิจัย</a>
                                        </li>
                                        <li>
                                            <a class="dropdown-item">อื่นๆ</a>
                                        </li>
                                    </ul>
                                    <div>
                                        <button class="btn dropdown-toggle" style="width: 8rem; background-color:#e6e6e6" type="button" data-bs-toggle="dropdown"> เขต </button>
                                        <ul class="dropdown-menu dropdown-menu-end">
                                            <li>
                                                <a class="dropdown-item">ร้านยาทั่วไป</a>
                                            </li>
                                            <li>
                                                <a class="dropdown-item">ร้านยาแบรนด์</a>
                                            </li>
                                            <li>
                                                <a class="dropdown-item">โรงพยาบาล</a>
                                            </li>
                                            <li>
                                                <a class="dropdown-item">คลินิก</a>
                                            </li>
                                            <li>
                                                <a class="dropdown-item">โรงงาน</a>
                                            </li>
                                            <li>
                                                <a class="dropdown-item">บริษัท</a>
                                            </li>
                                            <li>
                                                <a class="dropdown-item">วิจัย</a>
                                            </li>
                                            <li>
                                                <a class="dropdown-item">อื่นๆ</a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div *ngIf="header =='งานเภสัชด่วนรายวัน'" class="me-5 d-flex justify-content-start align-items-center">
                        <label for="exampleFormControlInput1" class="d-flex align-items-end fs-5 me-1" style="width:6rem">หางานวันที่:</label>
                        <input style="width:8.7rem; background-color:#e6e6e6" type="date" class="form-control me-3" id="exampleFormControlInput1">
                    </div>
                    
                    <div *ngIf="header !=='งานเภสัชด่วนรายวัน'" class="dropdown d-flex justify-content-around align-items-center">
						<label for="exampleFormControlInput1" class="d-flex align-items-end me-3">ชนิดงาน:</label>
						<button style="background-color:#e6e6e6" class="btn dropdown-toggle me-3" type="button" data-bs-toggle="dropdown">ทั้งหมด</button>
						<ul class="dropdown-menu dropdown-menu-end">
							<li>
								<a class="dropdown-item" >Full-Time</a>
							</li>
							<li>
								<a class="dropdown-item" >Part-Time</a>
							</li>
							<li>
								<a class="dropdown-item" >ทั้งหมด</a>
							</li>
						</ul>
				</div>
                    <div class="col d-flex justify-content-start">
                        <a style="align-self:center" data-bs-toggle="collapse" [href]="'#' + header">
                            <span class="badge rounded-pill text-black fs-5" style="font-weight: unset; background-color:#e6e6e6">
                                ตัวกรอง
                                <i class="bi bi-sliders"></i>
                            </span>
                        </a>
                        <button style="width:7rem; color: white; background-color:#7fd858" class="btn fs-5 rounded d-flex align-self-center mx-5 justify-content-center">
                            ค้นหา
                        </button>
                    </div>
                </div>
                <app-filter-list [brandToCategory]="brandToCategory" [header]="header"></app-filter-list>
            </div>
    </div>
    <ng-container *ngIf="loadingFlag; then loadingScreen; else jobsList"></ng-container>
    <ng-template #loadingScreen>
        <div class="loading">
            <div style="text-align:center">
                <div class="spinner-border text-primary" role="status">
                    <span class="visually-hidden">Loading...</span>
                </div>
            </div>
        </div>
    </ng-template>
    <ng-template #jobsList>
        <div class="row row-cols-2" style="margin-top:6rem">
            <ng-container *ngFor="let content of content$ | async ; index as i" >
                    <app-job-post-normal-card [content]="content" [urgentFlag]="content.Urgency" [fullTimeFlag]="content.TimeFrame =='Full-Time'" class="col"></app-job-post-normal-card>
                <hr style="width:100%; margin-bottom: 2rem" *ngIf="(i + 1) % 2 == 0">
            </ng-container>
        </div>

    </ng-template>
</div>
