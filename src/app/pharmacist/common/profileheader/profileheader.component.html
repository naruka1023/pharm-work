<div [ngSwitch]="profileType">
        <div *ngSwitchCase="'pharmacist-profile'" >
            <div class="container standard-shadow" style="background: white; border-bottom-left-radius:40px; border-bottom-right-radius:40px;">
                <div style="position:relative">
                    <div *ngIf="editCoverPhotoFlag" id="coverPhotoEditButtonPositionDropdown" class="dropdown me-md-3 d-sm-block d-none" [ngStyle]="{'visibility': photoFlag, 'position': 'absolute', 'right': '0.5rem', 'bottom': '0.5rem', 'z-index': '6'}">
                        <button data-bs-toggle="dropdown" 
                                aria-expanded="false" 
                                class="border-input btn btn-secondary fs-3 coverPhotoEditButtonPosition">
                               ปรับแต่งรูป
                        </button>
                        <ul class="dropdown-menu p-2">
                            <li><a class="dropdown-item" (click)="uploadNewPhotoClick()"><i class="bi bi-cloud-upload me-1"></i><input type="file" id="fileUpload"  (change)="repositionGuard($event)" hidden/>อัพโหลดรูป</a></li>
                            <li><a class="dropdown-item" (click)="editCoverPhotoClick()"><i class="bi bi-arrow-down-up me-1"></i>เปลี่ยนตำแหน่ง</a></li>
                            <!-- <div class="dropdown-divider"></div>
                            <li><a class="dropdown-item"><i class="bi bi-trash3 me-1"></i>ลบรูป</a></li> -->
                        </ul>
                    </div>
                    
                    <div *ngIf="!editCoverPhotoFlag" class="d-sm-flex d-none px-sm-0 px-4 justify-content-between justify-content-sm-end p-3" style=" position: absolute; z-index: 2; right: 0">
                        <div class="d-flex justify-content-start">
                            <div *ngIf="savePhotoLoadingFlag" class="align-self-center spinner-border text-primary me-3" role="status">
                                <span class="visually-hidden">Loading...</span>
                            </div>
                            <button class="btn btn-primary me-3" *ngIf="pathToUploadPicture" (click)="uploadCoverPhotoClick()">Save</button>
                            <button class="btn btn-primary me-3" *ngIf="!pathToUploadPicture" (click)="saveCoverPhotoClick()">Save</button>
                        </div>
                        <button class="btn btn-secondary" (click)="cancelCoverPhotoClick()">Cancel</button>
                    </div>
        
                    <div id="coverPhoto"  style='touch-action: none' class="coverPhoto img-container mh-100">
                        <img id="innerPhoto" class="innerCoverPhoto" [ngStyle]="{'visibility': photoFlag}" draggable='false' [src]="result.coverPhotoPictureUrl"/>
                    </div>
                </div>
                <div class="outerHeader2Pharma d-flex justify-content-between align-items-center">
                    <div class="m-4 outerHeaderPharma d-flex justify-content-between align-items-center">
                            <img class="job-post_profile-picture border border-5 border-white rounded-circle" id="profilePicture" [src]="result.cropProfilePictureUrl !== undefined? result.cropProfilePictureUrl: result.profilePictureUrl" alt="Profile Picture" width="150" height="150" />
                            <div class="profileUploadButton" data-bs-toggle="dropdown">
                                <i class="bi bi-camera-fill fs-3"></i>
                            </div>
                            <ul class="dropdown-menu p-2">
                                <li><a class="dropdown-item" (click)="uploadProfilePictureClick()"><i class="bi bi-cloud-upload me-1"></i>อัพโหลดรูป</a></li>
                                <li><a class="dropdown-item" (click)="editProfilePictureClick($event, 'asdf')"><i class="bi bi-arrow-down-up me-1"></i>เปลี่ยนตำแหน่ง</a></li>
                            </ul>
                            <input type="file" id="profilePictureFile" (change)="editProfilePictureClick($event, '')" hidden/>
                        <div>
                            <ng-container *ngIf="editFlag; then editNickName; else displayNickName"></ng-container>
                            <ng-template #editNickName>
                                <div class="ms-lg-5">
                                    <form [formGroup]="introTextForm" (ngSubmit)="onSave()">
                                        <input class="form-control fs-3 mx-sm-0 text-center border-input" formControlName="nickName">
                                    </form>
                                </div>
                                <div class="d-flex mainHeader">
                                    <h5 style='align-self:end' class="mainHeaderContent mb-0 mt-1 ms-lg-5"><i class="bi bi-pin-map-fill me-1"></i> {{result.Location?.District | emptyFieldPipe}}, {{result.Location?.Province | emptyFieldPipe}}</h5>
                                </div>
                            </ng-template>
                            <ng-template #displayNickName>
                                <div class="mainHeader">
                                    <h3  class="mb-0 ms-lg-5 me-0 mainHeaderContent">{{result.nickName}}</h3>
                                     <h5 style='align-self:end' class="mainHeaderContent mb-0 ms-lg-5"><i class="bi bi-pin-map-fill me-1"></i> {{result.Location?.District | emptyFieldPipe}}, {{result.Location?.Province | emptyFieldPipe}}</h5>
                                    <span class="badge rounded-pill me-2 ms-lg-5 mt-3 fs-4" [ngClass]="result.studentFlag && result.studentFlag !== undefined?'blue-color': 'green-color'" style="line-break: auto" ><b>{{result.studentFlag && result.studentFlag !== undefined?'บัญชีนักศึกษาเภสัช':'บัญชีเภสัชกร'}}</b></span>
                                    </div>
                            </ng-template>
                            <div>
                                <!-- <h6 class="mx-4"><i>{{profileInformation.JobType}}</i ></h6> -->
                            </div>
                        </div>
                    </div>
                    <div>
                        <div class="editButton fs-2 text-center justify-content-end align-items-center">
                            <div *ngIf="introTextLoadingFlag" class="spinner-border text-primary keyValueGap" style="color:white" role="status">
                                <span class="visually-hidden">Loading...</span>
                            </div>
                            <div class="mb-sm-3">
                                <button *ngIf="!editFlag" class="editButtonText border-input btn btn-light textResponsive ms-sm-3 mb-sm-0 mb-1 me-md-3" type="button" (click)="editIntroTextClicked()">
                                    แก้ไขโปรไฟล์
                                </button>
                            </div>
                            <div *ngIf="result.studentFlag && result.studentFlag !== undefined">
                                <button class="btn-outline-primary border-input textResponsive btn ms-sm-3 mb-sm-0 mb-1 me-md-3" type="button" (click)="upgradeModalClick()">
                                    อัพเกรดบัญชี
                                </button>
                                <div class="textResponsiveSmaller text-warning" *ngIf="result.requestChangeStatus !== undefined">รอการตรวจสอบ</div>
                            </div>
                            <!-- <div class="ms-3"><a (click)="openPageView()"><i data-bs-toggle="tooltip" title='ปุ่มมุมมองผู้อื่น' class="user-buttons bi bi-eye"></i></a></div>
                            <div class="mx-3"><a><i data-bs-toggle="tooltip" title='ตั้งค่า' class="user-buttons bi bi-gear"></i></a></div> -->
                            <div *ngIf="editCoverPhotoFlag" class="dropdown me-md-3 d-sm-none" [ngStyle]="{'visibility': photoFlag, 'z-index': '6'}">
                                <button data-bs-toggle="dropdown" 
                                        aria-expanded="false"  
                                        class="btn btn-secondary border-input textProfileResponsive ms-sm-3 coverPhotoEditButtonPosition">
                                         ปรับแต่งรูป
                                </button>
                                <ul class="dropdown-menu p-2">
                                    <li><a class="dropdown-item" (click)="uploadNewPhotoClick()"><i class="bi bi-cloud-upload me-1"></i><input type="file" id="fileUpload"  (change)="repositionGuard($event)" hidden/>อัพโหลดรูป</a></li>
                                    <li><a class="dropdown-item" (click)="editCoverPhotoClick()"><i class="bi bi-arrow-down-up me-1"></i>เปลี่ยนตำแหน่ง</a></li>
                                    <!-- <div class="dropdown-divider"></div>
                                    <li><a class="dropdown-item"><i class="bi bi-trash3 me-1"></i>ลบรูป</a></li> -->
                                </ul>
                            </div>
                            <div *ngIf="!editCoverPhotoFlag" class="d-sm-none d-flex px-sm-0 px-4 justify-content-between justify-content-sm-end p-3" style=" position: absolute; z-index: 2; right: 0">
                                <div class="d-flex justify-content-start">
                                    <div *ngIf="savePhotoLoadingFlag" class="align-self-center spinner-border text-primary me-3" role="status">
                                        <span class="visually-hidden">Loading...</span>
                                    </div>
                                    <button class="btn btn-primary me-3" *ngIf="pathToUploadPicture" (click)="uploadCoverPhotoClick()">Save</button>
                                    <button class="btn btn-primary me-3" *ngIf="!pathToUploadPicture" (click)="saveCoverPhotoClick()">Save</button>
                                </div>
                                <button class="btn btn-secondary" (click)="cancelCoverPhotoClick()">Cancel</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="d-flex">
                    <div class="px-lg-4 mb-4 ms-5 fourPointersPharma textProfileResponsive" style="width: -webkit-fill-available; width: -moz-available">
                        <div class="d-flex"></div>
                        <div class="row mt-md-0 mt-3">
                            <div class="col-12 fourPointKeyValue">
                                <div class="d-flex me-xl-3">
                                    <i class="bi bi-lightbulb-fill me-3"></i>
                                    หางาน  
                                </div>
                                <div class="d-flex">
                                    <div class="phantomPadding">
                                        <i class="bi bi-lightbulb me-3"></i>
                                    </div>
                                    <b>{{result.preferred.timeFrame | emptyFieldPipe}}</b>
                                </div>
                            </div>
                            <div class="col mt-md-3 mt-1 fourPointKeyValue">
                                <div class="d-flex me-xl-3">
                                    <i class="bi bi-bootstrap-fill me-3"></i>
                                    เงินเดือนขั้นต่ำที่ต้องการ 
                                </div>
                                <div class="d-flex">
                                    <div class="phantomPadding">
                                        <i class="bi bi-lightbulb me-3"></i>
                                    </div>
                                    <b>{{result.preferred.salary | emptyFieldPipe}}</b>
                                </div>
                            </div>
                        </div>
                        <div class="row ">
                            <div class="col-12 mt-md-3 mt-1 fourPointKeyValue">
                                <div class="d-flex me-xl-3">
                                    <i class="bi bi-geo-fill me-3"></i>
                                    หางานพื้นที่
                                </div>
                                <div class="d-flex">
                                    <div class="phantomPadding">
                                        <i class="bi bi-lightbulb me-3"></i>
                                    </div>
                                    <b>{{result.preferred.district | emptyFieldPipe}}, {{result.preferred.province | emptyFieldPipe}}</b>
                                </div>
                            </div>
                            <div class="col mt-md-3 mt-1 pe-lg-5 fourPointKeyValuePreferred">
                                <div class="d-flex me-xl-3 me-3">
                                    <i class="bi bi-heart-fill me-3" style="color:red"></i>
                                    สนใจ 
                                </div>
                                <ng-container *ngIf="result.preferred.jobType == 0; then noPreferred; else Preferred"></ng-container>
                                <ng-template #noPreferred>
                                    <b><div>ไม่ระบุ</div></b>
                                </ng-template>
                                <ng-template #Preferred>
                                    <div class="preferredJobs">
                                        <span class="badge rounded-pill text-bg-primary me-2" style="line-break: auto" *ngFor="let job of result.preferred.jobType"><b>{{job}}</b></span>
                                    </div>
                                </ng-template>
                            </div>
                        </div>
    
                    </div>
                </div>
                <ng-container *ngIf="editFlag; then edit; else display"></ng-container>
                <ng-template #edit>
                    <div class="d-flex">
                        <div class="pb-5 ms-sm-5 mx-sm-0 mx-3">
                            <form [formGroup]="introTextForm" (ngSubmit)="onSave()">
                                <textarea class="form-control textProfileResponsive quazi-border-input" formControlName="introText" id="exampleFormControlTextarea1" cols="50"></textarea>
                                <div class="d-flex justify-content-sm-end justify-content-center mt-3">
                                    <button class="fs-3 btn btn-light"  (click)="cancelIntroText()" style="padding: 0.5rem 2rem; border-radius: 50px !important">ยกเลิก</button>
                                    <button type="submit" class="ms-3 btn fs-3" style="border-color: rgb(127, 216, 88); background-color:rgb(127, 216, 88); padding: 0.5rem 2rem; border-radius: 50px !important; color:white">บันทึก</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </ng-template>
                <ng-template #display>
                    <div class="d-flex ms-sm-5">
                        <div class="textProfileResponsive pb-5 introText" [ngStyle]="{'display':result.introText == undefined?'none':'block'}">{{result.introText}}</div>
                    </div>
                </ng-template>
            </div>
        </div>
        <div *ngSwitchCase="'job-post'" class="container standard-shadow" style="border-bottom-left-radius:40px; border-bottom-right-radius:40px">
            <div style="position:relative">
                
                <div id="coverPhoto"  class="coverPhoto img-container mh-100">
                    <img id="innerPhoto" class="innerCoverPhoto" draggable='false' [src]="result.coverPhotoPictureUrl" />
                </div>
            </div>
            <div class="outerHeader2 d-lg-flex justify-content-between pb-md-0 pb-1 mb-5 align-items-center" style="background: white; border-bottom-left-radius:40px; border-bottom-right-radius:40px;">
                <div class="outerHeader m-4 d-flex justify-content-lg-between align-items-center">
                    <img class="job-post_profile-picture border border-5 border-white rounded-circle" (click)="goToOperatorProfile()" [src]="result.cropProfilePictureUrl !== undefined? result.cropProfilePictureUrl: result.profilePictureUrl" alt="Profile Picture" width="150" height="150" />
                    <div>
                        <div class="mainHeader">
                            <h3 class="ms-lg-5 me-0 mainHeaderContent">{{result.Establishment | emptyFieldPipe}}</h3> 
                        </div>
                        <div class="d-lg-flex ms-lg-5"> 
                            <h4 class="mainHeaderContent ms-lg-0 ms-md-4 me-md-3 my-md-0 my-2 align-self-center"><i>{{result.JobType | emptyFieldPipe}}</i></h4>
                        </div>
                    </div>
                </div>
                <div class="mt-md-4 mt-2">
                    <div class="followButton d-flex justify-content-lg-between justify-content-center pb-0 pb-5">
                        <button (click)="toggleFollow()" id="mouseTarget3" style="min-width: 12rem" class="btn mx-3 me-lg-5 border-input"  [ngClass]="!followingFlag? 'btn-outline-secondary': 'btn-outline-primary'">
                            <ng-container *ngIf="followLoading; then loading; else notLoading"></ng-container>
                            <ng-template #loading>
                                <div>
                                    <div style="text-align:center">
                                        <div class="spinner-border text-primary" role="status">
                                            <span class="visually-hidden">Loading...</span>
                                        </div>
                                    </div>
                                </div>
                            </ng-template>
                            <ng-template #notLoading>
                                <ng-container *ngIf="followFlag$ | async; then alreadyFollow; else follow"></ng-container>
                                <ng-template #alreadyFollow>
                                    <h3 class="mb-0">{{ followedText }}</h3>
                                </ng-template>
                                <ng-template #follow>
                                    <h3 class="mb-0">ติดตาม</h3>
                                </ng-template>
                            </ng-template>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <div *ngSwitchCase="'operator-profile'"  class="container px-0 pb-2 standard-shadow" style="background: white; border-bottom-left-radius:40px; border-bottom-right-radius:40px;">
            <div id="coverPhoto"  class="coverPhoto img-container mh-100">
                <img id="innerPhoto" class="innerCoverPhoto" [src]="result.coverPhotoPictureUrl" />
            </div>
            <div class="outerHeader2 outerHeaderOperator d-flex justify-content-between align-items-center">
                <div class="outerHeader m-4 d-flex justify-content-between align-items-center">
                    <img class="job-post_profile-picture border border-5 border-white rounded-circle" [src]="result.cropProfilePictureUrl !== undefined? result.cropProfilePictureUrl: result.profilePictureUrl" alt="Profile Picture" width="150" height="150" />
                        <div class="align-items-center mainHeader">
                            <div class="h3 companyName m-4 ms-lg-5 ms-md-3 mb-0 me-md-2">{{result.companyName | emptyFieldPipe}}</div> 
                            <div style='align-self:end' class="h4 subheaderLocation my-2 ms-lg-5 ms-md-3 mb-0 me-md-2"><i class="bi bi-pin-map-fill me-1"></i> {{result.Location?.District | emptyFieldPipe}}, {{result.Location?.Province | emptyFieldPipe}}</div>
                        </div>
                        <!-- <div>
                            <h6 class="mx-4"><i>{{result.JobType}}</i></h6>
                        </div> -->
                </div>
                <div class="m-4">
                    <div id="operatorFollow" class="followButton d-flex justify-content-between">
                        <button (click)="toggleFollow()" id="mouseTarget" style="min-width: 12rem" class="btn border-input"  [ngClass]="!followingFlag? 'btn-outline-secondary': 'btn-outline-primary'">
                            <ng-container *ngIf="followLoading; then loading; else notLoading"></ng-container>
                            <ng-template #loading>
                                <div>
                                    <div style="text-align:center">
                                        <div class="spinner-border text-primary" role="status">
                                            <span class="visually-hidden">Loading...</span>
                                        </div>
                                    </div>
                                </div>
                            </ng-template>
                            <ng-template #notLoading>
                                <ng-container *ngIf="followFlag$ | async; then alreadyFollow; else follow"></ng-container>
                                <ng-template #alreadyFollow>
                                    <h3 class="mb-0">{{ followedText }}</h3>
                                </ng-template>
                                <ng-template #follow>
                                    <h3 class="mb-0">ติดตาม</h3>
                                </ng-template>
                            </ng-template>
                        </button>
                    </div>
                </div>
            </div>
            <div class="d-flex">
                <div class="fs-3 mx-5 fourPointers" style="width: -webkit-fill-available; width: -moz-available">
                    <div class="row my-sm-2 my-0">
                        <div class="col col-offset-xl-3 jobCounts2">
                            <i class="bi bi-bank2 me-3"></i>{{result.jobType | emptyFieldPipe}}
                        </div>
                        <div class="col jobCounts2">
                            <i class="bi bi-briefcase-fill me-3"></i>ประกาศงานทั่วไป 
                            {{jobCount.normalJobs}}
                        </div>
                    </div>
                    <div class="row my-sm-2 my-0">
                        <div class="col col-offset-xl-3 jobCounts">
                            <i class="bi bi-people-fill me-3"></i>ผู้ติดตาม {{followers$ | async}} คน
                            
                            <!--<span class="badge rounded-pill text-bg-primary me-2" *ngFor="let job of result.preferredJobType">{{job}}</span> -->
                        </div>
                        <div class="col jobCounts">
                            <i class="bi bi-calendar-check me-3"></i>ประกาศงานด่วน 
                            {{jobCount.urgentJobs}}
                        </div>
                    </div>
                </div>
            </div>
            <div class="my-md-4 d-flex justify-content-center">
                <div id="operatorFollowTwo" class="followButton">
                    <button (click)="toggleFollow()" style="min-width: 12rem" class="btn border-input mx-3 me-md-5" id="mouseTarget2" [ngClass]="!followingFlag? 'btn-outline-secondary': 'btn-outline-primary'">
                        <ng-container *ngIf="followLoading; then loading; else notLoading"></ng-container>
                        <ng-template #loading>
                            <div>
                                <div style="text-align:center">
                                    <div class="spinner-border text-primary" role="status">
                                        <span class="visually-hidden">Loading...</span>
                                    </div>
                                </div>
                            </div>
                        </ng-template>
                        <ng-template #notLoading>
                            <ng-container *ngIf="followFlag$ | async; then alreadyFollow; else follow"></ng-container>
                            <ng-template #alreadyFollow>
                                <div class="mb-0">ติดตามแล้ว</div>
                            </ng-template>
                            <ng-template #follow>
                                <div class="mb-0">ติดตาม</div>
                            </ng-template>
                        </ng-template>
                    </button>
                </div>
            </div>
            <div class="textProfileResponsive pb-5 introText" [ngStyle]="{'display':result.introText == undefined?'none':'block'}" style="padding: 0 5vw; text-indent: 20px;">{{result.introText}}</div>
        </div>
    </div>
    <div class="modal fade" id="studentUpgradeModal" tabindex="-1" aria-labelledby="exampleModalLabel2" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg">
          <div class="modal-content quazi-border-input standard-shadow">
              <div class="modal-body">
                  <div [ngSwitch]="upgradeStage">
                    <div class="text-center textProfileResponsive mt-5 mb-3">อัพเกรดบัญชีเภสัชกร</div>
                    <div *ngSwitchCase="'first'" class="m-3">
                        <div class="p-2 textProfileResponsive">
                            <img style="width:90%" src="assets/upgradeStudentWeb.png" class="d-md-block d-none">
                            <img style="width:90%" src="assets/upgradeStudentMobile.png" class="d-md-none d-block">
                        </div>
                        <div class="p-4 textProfileResponsive my-5 cyan-color quazi-border-input text-center">
                            <div style="color:blue" class="mb-4">
                                *หากท่านมีเลขใบประกอบแล้ว เราแนะนำให้ท่าน
                                อัพเกรดบัญชีเป็นบัญชีเภสัชกรเลย!
                            </div>
                            <div class="d-flex my-3 justify-content-center">
                                <button class="btn-modal textProfileResponsive btn btn-outline-primary"(click)="changeStage('second')">อัพเกรดบัญชี</button>
                            </div>
                        </div>
                    </div>
                    <div class="m-3 textProfileResponsive" *ngSwitchCase="'second'">
                        <div class="loading" [ngStyle]="{'visibility': upgradeLoadingFlag?'unset': 'hidden'}">
                            <div style="text-align:center">
                                <div class="spinner-border text-primary" role="status">
                                <span class="visually-hidden">Loading...</span>
                                </div>
                            </div>
                        </div>
                        <div class="p-4 textProfileResponsive mb-5 cyan-color quazi-border-input">
                            <div class="my-3 text-center">ส่งข้อมูลการขออัพเกรดบัญชีเป็นบัญชีเภสัชกร</div>
                            <form [formGroup]="upgradeToPharmaForm">
                                <ul class="textResponsive">
                                    <li class="mb-3">
                                        <b>ชื่อจริงตามบัตรประชาชน </b><span class="text-danger textResponsive">*ยึดตามข้อมูลที่ลงทะเบียน</span><br>
                                    </li>
                                    <li class="d-block mb-3">
                                        {{result.name}}
                                    </li>
                                    <li class="mb-3">
                                        <b>นามสกุลจริงตามบัตรประชาชน </b><span class="text-danger textResponsive">*ยึดตามข้อมูลที่ลงทะเบียน</span><br>
                                    </li>
                                    <li class="d-block mb-3">
                                        {{result.surname}}
                                    </li>
                                    <li>
                                        <b>เลขที่ใบประกอบวิชาชีพเภสัชกรรม (เลข ภ.)</b>
                                    </li>
                                    <input
                                        type="number"
                                        formControlName="license"
                                        class="form-control border-input textResponsive"
                                        [ngClass]="{ 'is-invalid': submitted && getUpgradeForm['license'].errors }"
                                        style='background-color:#f2f2f2'
                                    />
                                    <div *ngIf="submitted && getUpgradeForm['license'].errors" class="invalid-feedback">
                                        <div *ngIf="getUpgradeForm['license'].errors['required']">ตรวจสอบข้อมูลให้ถูกต้องก่อนขออัพเกรดบัญชี</div>
                                        <div *ngIf="getUpgradeForm['license'].errors['minlength'] || getUpgradeForm['license'].errors['maxlength']">กรุณาใส่เลขใบประกอบวิชาชีพ 5 หลัก</div>
                                    </div>
                                </ul>    
                                <label class="my-5 text-danger text-start textResponsive">*กรุณาตรวจสอบข้อมูลทั้งหมดให้ถูกต้อง หากพบข้อมูลที่ไม่ถูกต้องท่านสามารถทำการติดต่อขอแก้ไขข้อมูลได้ด้วยการกดปุ่ม “คำขอแก้ไขข้อมูล” พร้อมส่งหลักฐานประกอบการแก้ไขข้อมูลตามที่กำหนด</label>
                                <div class="d-flex justify-content-evenly">
                                    <button class="btn-modal textResponsive btn btn-outline-danger" (click)="changeStage('requestChange')">คำขอแก้ไขข้อมูล</button>
                                    <button class="btn-modal textResponsive btn btn-success"(click)="authenticateLicense()">ขออัพเกรดบัญชี</button>
                                </div>
                            </form>
                        </div>
                    </div>
                    <div *ngSwitchCase="'requestChange'" class="m-3">
                        <div class="p-2 px-4 textResponsive my-5 light-red-color quazi-border-input text-center" [formGroup]="requestChangeForm">
                            <div class="my-4 textProfileResponsive">คำขอแก้ไขข้อมูลที่ผิดพลาด</div>
                            <div class="p-3 textResponsive quazi-border-input mb-3" style="border:1px solid red">
                                <ul>
                                    <li class="text-start mb-3">
                                        <b>ชื่อจริงตามบัตรประชาชน </b><span class="text-danger textResponsive">*ยึดตามข้อมูลที่ลงทะเบียน</span><br>
                                    </li>
                                    <li class="text-start d-block mb-3">
                                        {{result.name}}
                                    </li>
                                    <li class="text-start mb-3">
                                        <b>นามสกุลจริงตามบัตรประชาชน </b><span class="text-danger textResponsive">*ยึดตามข้อมูลที่ลงทะเบียน</span><br>
                                    </li>
                                    <li class="text-start d-block mb-3">
                                        {{result.surname}}
                                    </li>
                                </ul>
                            </div>
                            <ng-container>
                                <div class="my-4" style=text-align:-webkit-left>
                                    <b>ส่งหลักฐานภาพถ่ายหรือสำเนาบัตรประชาชนเพื่อขอแก้ไข
                                        ข้อมูลชื่อ-นามสกุล</b>
                                    </div>
                                    <div class="d-flex flex-row-start align-items-center mb-3">
                                        <button style="white-space:nowrap" class="btn me-3 btn-outline-secondary textResponsive border-input" (click)="uploadIdentityClick()">แนบสำเนาบัตรประชาชน</button>
                                        <input type="file" accept="image/*" formControlName="identityFile" (change)="identityRecieve($event)" id="identityCardInput" hidden [ngClass]="{ 'is-invalid': submittedRequestChange && getRequestChangeForm['identityFile'].errors }">
                                        <div style="line-break:anywhere" *ngIf="submittedRequestChange && getRequestChangeForm['identityFile'].errors" class="invalid-feedback">
                                            <div *ngIf="getRequestChangeForm['identityFile'].errors['required']">ตรวจสอบข้อมูลให้ถูกต้องก่อนขออัพเกรดบัญชี</div>
                                        </div>
                                        <div style="line-break:anywhere">{{ identityName }}</div>
                                    </div>
                                    <div class="d-flex justify-content-center my-3">
                                        <img src="assets/identity-card.png" id="resultIdentity" style="width:100%">
                                    </div>
                                </ng-container>
                                <div class="form-check textResponsive my-4 text-start">
                                <input class="form-check-input" accept="image/*" (change)="nameValid($event)" type="checkbox" id="flexCheckDefault">
                                <label class="form-check-label" for="flexCheckDefault">
                                    ชื่อ-นามสกุลของฉันถูกต้องตามบัตรประชาชนอยู่แล้ว
                                </label>
                            </div>
                            <div class="p-3 textResponsive quazi-border-input mb-3" style="border:1px solid red">
                                <ul class="mt-3">
                                    <li class="text-start">
                                        <b>เลขที่ใบประกอบวิชาชีพเภสัชกรรม (เลข ภ.)</b>
                                        </li>
                                        <input
                                          type="number"
                                          class="form-control border-input textResponsive"
                                          [ngClass]="{ 'is-invalid': submittedRequestChange && getRequestChangeForm['license'].errors }"
                                          style='background-color:#f2f2f2'
                                          formControlName="license"
                                      />
                                      <div *ngIf="submittedRequestChange && getRequestChangeForm['license'].errors" class="invalid-feedback text-start">
                                        <div *ngIf="getRequestChangeForm['license'].errors['required']">ตรวจสอบข้อมูลให้ถูกต้องก่อนขออัพเกรดบัญชี</div>
                                    </div>
                                    </ul>
                                </div>
                                <div class="my-4" style=text-align:-webkit-left>
                                    <b>ส่งหลักฐานภาพถ่ายหรือสำเนาใบประกอบวิชาชีพเพื่อขอแก้ไข
                                        เลขที่ใบประกอบวิชาชีพเภสัชกรรม</b>
                                    </div>
                                    <div class="d-flex flex-row-start align-items-center">
                                        <button style="white-space:nowrap" class="d-flex me-3 justify-content-start btn btn-outline-secondary textResponsive border-input align-items-center" (click)="uploadLicenseClick()">แนบสำเนาใบประกอบวิชาชีพ</button>
                                        <input type="file" accept="image/*" formControlName="licenseFile" (change)="licenseReceive($event)" id="licenseInput" hidden [ngClass]="{ 'is-invalid': submittedRequestChange && getRequestChangeForm['licenseFile'].errors }">
                                        <div style="line-break:anywhere" *ngIf="submittedRequestChange && getRequestChangeForm['licenseFile'].errors" class="invalid-feedback">
                                            <div *ngIf="getRequestChangeForm['licenseFile'].errors['required']">ตรวจสอบข้อมูลให้ถูกต้องก่อนขออัพเกรดบัญชี</div>
                                        </div>
                                        <div style="line-break:anywhere">{{ licenseName }}</div>
                                    </div>
                            <div class="d-flex justify-content-center my-3">
                                <img src="assets/license.png" style="width:100%">
                            </div>
                            <div class="my-3" *ngIf="requestChangeLoadingFlag">
                                <div style="text-align:center">
                                    <div class="spinner-border text-primary" role="status">
                                        <span class="visually-hidden">Loading...</span>
                                    </div>
                                </div>
                            </div>
                            <div class="d-flex justify-content-evenly my-5">
                                <button class="btn border-input textResponsive btn-light"(click)="upgradeModal.hide()">ยกเลิก</button>
                                <button class="btn textResponsive green-color border-input"style="color:white" (click)="requestChange()">ส่งข้อมูล</button>
                            </div>
                        </div>
                    </div>
                    <div *ngSwitchCase="'secondSuccess'" class="m-3">
                        <div class="p-4 textResponsive my-5 light-green-color quazi-border-input text-center">
                            <div class="my-3 text-center">ยินดีด้วย บัญชีของท่านได้รับการอัพเกรด
                                เป็นบัญชีเภสัชกรแล้ว!</div>
                            <div class="mb-4 d-flex justify-content-center">
                                <img src="assets/accept.png" style="width: 25%">
                            </div>
                            <div class="mt-textResponsive text-center">
                                การตรวจสอบเสร็จสิ้น เราขอแจ้งให้ท่านทราบว่าบัญชีของท่าน
                                ผ่านการตรวจสอบแล้วเรียบร้อย
                            </div>
                            <div class="my-5 textProfileResponsive"><b>เริ่มต้นฝากประวัติกับเราเพื่อเพิ่มโอกาส
                                ในการได้งานที่ตรงใจสิ!</b></div>
                            <button class="btn textResponsive green-color border-input" style="color:white" (click)="upgradeModal.hide()">เริ่มฝากประวัติ</button>
                        </div>
                    </div>
                    <div *ngSwitchCase="'pending'" class="m-3">
                        <div class="p-4 textResponsive my-5">
                            <div class="mb-4 d-flex justify-content-center">
                                <img src="assets/loading.png" style="width: 25%">
                            </div>
                            <div class="my-3 text-center">รอตรวจสอบ!</div>
                            <div class="mt-textResponsive text-center">
                                ข้อมูลของท่านถูกส่งไปยังผู้ดูแลระบบเรียบร้อย จะใช้เวลาไม่เกิน 
                                3 วันเพื่อตรวจสอบและยืนยันข้อมูลของท่าน พร้อมกับแจ้งผลให้ทราบ
                            </div>
                            <div class="d-flex justify-content-evenly mt-4">
                                <button class="btn textResponsive green-color border-input" style="color:white" (click)="upgradeModal.hide()">ตกลง</button>
                            </div>
                        </div>
                    </div>
                    <div *ngSwitchCase="'secondFail'" class="m-3">
                        <div class="p-4 textResponsive my-5 light-red-color quazi-border-input text-center">
                            <div class="my-3 text-center">ขออภัย บัญชีของท่านไ่ม่ผ่านการตรวจสอบ!!</div>
                            <div class="mb-4 d-flex justify-content-center">
                                <img src="assets/reject.png" style="width: 25%">
                            </div>
                            <div class="mt-textResponsive text-center">
                            บัญชีของท่านจะไม่ได้รับการอัพเกรดเนื่องจากไม่
                                ผ่านการตรวจสอบ <br>

                                ซึ่งอาจเกิดจากความผิดพลาดของข้อมูลที่ไม่ตรงกับ
                                ฐานข้อมูลในระบบ <br>

                                ท่านสามารถส่ง “คำขอแก้ไขข้อมูล” เพื่อแก้ไขข้อมูลที่ผิดพลาดได้ <br>

                                หากข้อมูลที่ผิดพลาดได้รับการแก้ไขเรียบร้อย ท่านสามารถยื่นคำขออัพเกรดบัญชีได้อีกครั้ง
                            </div>
                            <div class="d-flex justify-content-evenly mt-4">
                                <button class="btn border-input textResponsive btn-outline-danger" (click)="changeStage('requestChange')">คำขอแก้ไขข้อมูล</button>
                                <button class="btn textResponsive green-color border-input" style="color:white" (click)="upgradeModal.hide()">ตกลง</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
          </div>
        </div>
      </div>
    <div class="modal fade" id="myModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg">
          <div class="modal-content semi-border-input standard-shadow">
            <div class="modal-body">
                <div [ngStyle]="{'align-items':'center', 'display': 'flex', 'justify-content':'center', 'overflow': 'hidden', 'height' : '50vh'}">
                        <div class="loading" *ngIf="loadProfilePictureFlag">
                            <div style="text-align:center">
                                <div class="spinner-border text-primary" role="status">
                                <span class="visually-hidden">Loading...</span>
                                </div>
                            </div>
                        </div>
                        <div id="imgContainer" [ngStyle]="{'display': loadProfilePictureFlag?'none': 'block'}">
                        </div>
                </div>
                <input type="range" class="form-range" [(ngModel)]="dynamicScale" (ngModelChange)="valueChanges($event)" min="0" max="1" step="0.01" id="customRange2">
            </div>
            <div class="modal-footer">
                <div class="d-flex flex-row-reverse">
                    <button type="button" class="btn btn-primary ms-3" (click)="uploadProfilePicture()">Save</button>
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
          </div>
        </div>
      </div>
