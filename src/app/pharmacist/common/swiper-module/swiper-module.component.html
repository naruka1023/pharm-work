<div [ngClass]="items().length > 0 ? 'mt-5' : ''">
  <div
    *ngIf="!_data!.bannerFlag && _data!.CategorySymbol !== 'CA'"
    class="d-flex justify-content-between"
    [id]="_data!.CategorySymbol + 'toScroll'"
  >
    <!-- <ng-container *ngIf="_data!.CategorySymbol == 'AA'; then isAA; else notAA"></ng-container>
		<ng-template #isAA>
			<div *ngIf='items().length > 0' class="letSideHeader d-flex flex-row align-items-end mb-0">
					<p class="headerTitle h2 d-flex align-items-end">{{ _data!.header }}</p>
				<div class="fs-4 jobCount align-self-center ms-3 d-md-block d-none" *ngIf="_data!.CategorySymbol !== 'CB' && _data!.CategorySymbol !== 'BA'">{{ _data!.count }} ตำแหน่งงาน</div>
			</div>
			<div *ngIf="_data!.filterFlag && items().length > 0"  style="cursor: pointer" (click)="goToList()"class="goToListText d-flex flex-row align-items-center">
				<p class="green-text mb-0 goToListText h3 d-flex align-items-center me-3">ดูทั้งหมด</p>
			</div>
		</ng-template>
		<ng-template #notAA> -->
    <div class="letSideHeader d-flex flex-row align-items-end mb-0">
      <p class="headerTitle h2 d-flex align-items-end">
        {{ _data!.header }}
      </p>
      <div
        class="fs-4 jobCount align-self-center ms-3 d-md-block d-none"
        *ngIf="_data!.CategorySymbol !== 'CB' && _data!.CategorySymbol !== 'BA'"
      >
        {{ _data!.count }} ตำแหน่งงาน
      </div>
    </div>
    <div
      *ngIf="_data!.filterFlag"
      style="cursor: pointer"
      (click)="goToList()"
      class="goToListText d-flex flex-row align-items-center"
    >
      <p class="green-text mb-0 goToListText h3 d-flex align-items-center me-3">
        ดูทั้งหมด
      </p>
    </div>
    <!-- </ng-template> -->
  </div>
  <ng-container
    *ngIf="_data!.filterFlag === false; then ifBlock; else elseBlock"
  >
  </ng-container>
  <ng-template #ifBlock>
    <div class="mt-sm-3">
      <ng-container
        *ngIf="_data!.bannerFlag; then banner; else notBanner"
      ></ng-container>
      <ng-template #banner>
        <swiper-container
          *ngIf="_data!.bannerType === 'short'"
          #swiperShortBanner
          style="margin-bottom: 3em; text-align: center"
        >
          <swiper-slide>
            <div class="img-container">
              <img
                class="landing-page_img"
                src="assets/bannerShort1.webp"
                style="width: -webkit-fill-available; width: -moz-available"
              />
            </div>
          </swiper-slide>

          <swiper-slide>
            <div class="img-container">
              <img
                class="landing-page_img"
                src="assets/bannerShort2.webp"
                style="width: -webkit-fill-available; width: -moz-available"
              />
            </div>
          </swiper-slide>

          <swiper-slide>
            <div class="img-container">
              <img
                class="landing-page_img"
                src="assets/bannerShort2.webp"
                style="width: -webkit-fill-available; width: -moz-available"
              />
            </div>
          </swiper-slide>
        </swiper-container>

        <ng-container
          *ngIf="_data!.bannerList!.length > 0; then hasBanner2; else noBanner2"
        ></ng-container>
        <ng-template #hasBanner2>
          <swiper-container
            *ngIf="_data!.bannerType === 'long'"
            #swiperLongBanner
            init="false"
            style="margin-bottom: 3em; text-align: center"
          >
            <swiper-slide *ngFor="let banner of _data!.bannerList">
              <div class="img-container">
                <ng-container
                  *ngIf="banner['link'] !== ''; then link; else noLink"
                ></ng-container>

                <ng-template #link>
                  <img
                    style="cursor: pointer"
                    class="landing-page_img"
                    [src]="banner['bannerPictureLink']"
                    (click)="redirectExternal(banner['link'])"
                  />
                </ng-template>

                <ng-template #noLink>
                  <img
                    class="landing-page_img"
                    [src]="banner['bannerPictureLink']"
                  />
                </ng-template>
              </div>
            </swiper-slide>
          </swiper-container>
        </ng-template>
        <ng-template #noBanner2>
          <swiper-container
            *ngIf="_data!.bannerType === 'long'"
            #swiperEmptyLongBanner
            init="false"
            style="margin-bottom: 3em; text-align: center"
          >
            <swiper-slide>
              <div class="img-container">
                <img
                  class="landing-page_img"
                  routerLink="buy-banner"
                  (click)="scrollUp()"
                  src="assets/emptybanner/emptyBannerLong.png"
                  style="
                    cursor: pointer;
                    width: -webkit-fill-available;
                    width: -moz-available;
                  "
                />
              </div>
            </swiper-slide>
            <swiper-slide>
              <div class="img-container">
                <img
                  class="landing-page_img"
                  routerLink="buy-social"
                  (click)="scrollUp()"
                  src="assets/emptybanner/emptyBannerLongSocial.png"
                  style="
                    cursor: pointer;
                    width: -webkit-fill-available;
                    width: -moz-available;
                  "
                />
              </div>
            </swiper-slide>
          </swiper-container>
        </ng-template>
      </ng-template>
      <ng-template #notBanner>
        <swiper-container
          init="false"
          #swiperOperatorBanner
          class="mb-sm-5 mb-2"
        >
          <swiper-slide *ngFor="let items of items(); let i = index">
            <img
              *ngIf="i <= 2 && items !== 'empty'"
              src="assets/pin.png"
              class="pin-icon"
              style="
                z-index: 100;
                width: 50px;
                position: absolute;
                right: 40px;
                top: 3px;
              "
            />
            <app-operator-small-card
              *ngIf="items !== 'empty'"
              [content]="items"
            ></app-operator-small-card>

            <div *ngIf="items === 'empty'" style="line-break: anywhere">
              <img
                *ngIf="i <= 2"
                src="assets/pin.png"
                class="pin-icon"
                style="
                  z-index: 100;
                  width: 50px;
                  position: absolute;
                  right: 40px;
                  top: 3px;
                "
              />
              <img
                class="landing-page_img profileOperatorImage"
                src="assets/emptybanner/emptyBannerSmall.png"
                style="width: 150px; height: 150px; border-radius: 100%"
              />
              <div class="companyName fs-5" style="visibility: hidden">
                ff<br />gg
              </div>
            </div>
          </swiper-slide>
        </swiper-container>
      </ng-template>
    </div>
  </ng-template>
  <ng-template #elseBlock>
    <ng-container
      *ngIf="_data!.loading; then loading; else notLoading"
    ></ng-container>
    <ng-template #loading>
      <div
        style="text-align: center"
        class="my-5"
        style="height: -webkit-fill-available"
      >
        <div class="spinner-border text-primary" role="status">
          <span class="visually-hidden">Loading...</span>
        </div>
      </div>
    </ng-template>
    <ng-template #notLoading>
      <ng-container
        *ngIf="_data!.count > 0; then notEmpty; else empty"
      ></ng-container>
      <ng-template #notEmpty>
        <swiper-container
          #swiperJobPost
          init="false"
          style="margin-top: 1em; text-align: center"
        >
          <swiper-slide *ngFor="let item of items()">
            <app-job-post-small-card
              [urgentFlag]="item.CategorySymbol == 'AA'"
              [fullTimeFlag]="item.TimeFrame === 'Full-Time' ? true : false"
              [content]="item"
            >
            </app-job-post-small-card>
          </swiper-slide>
        </swiper-container>
      </ng-template>
      <ng-template #empty>
        <img
          *ngIf="_data!.CategorySymbol !== 'CA'"
          src="assets/empty/transparentPharma.png"
          style="width: -webkit-fill-available; width: -moz-available"
        />
      </ng-template>
    </ng-template>
  </ng-template>
</div>
