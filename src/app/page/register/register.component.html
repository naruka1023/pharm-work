<div class="container">
    <div style="display:block; padding: 5vh 0">
        <div class="d-flex justify-content-between">
            <div class="col-6">

                <div class="card my-auto me-4" style="width:-webkit-fill-available">
                    <div class="card-body">
                        <h5 class="text-center card-title">ลงทะเบียน</h5>
                        <div class="my-2 text-center text-danger">{{errorMessage}}</div>
                        <div class="mb-3 form-check form-switch">
                            <label for="role" class="form-label">{{role}}</label>
                            <input class="form-check-input" type="checkbox" (click)="changeRoles();" role="switch">
                        </div>
                        <ng-container *ngIf="role === 'เภสัชกร'; then pharmacistForm; else operatorForm"></ng-container>
                        <ng-template #pharmacistForm>
                            <form [formGroup]="registerFormPharmacist" (ngSubmit)="onSubmit()">
                                <div class="form-group mb-3">
                                        <label for="email" class="form-label">Email</label>
                                        <input
                                          type="text"
                                          formControlName="email"
                                          class="form-control"
                                          [ngClass]="{ 'is-invalid': submitted && fP['email'].errors }"
                                        />
                                        <div *ngIf="submitted && fP['email'].errors" class="invalid-feedback">
                                          <div *ngIf="fP['email'].errors['required']">Email is required</div>
                                          <div *ngIf="fP['email'].errors['email']">Email is invalid</div>
                                        </div>
                                    </div>
                                    <div class="mb-3">
                                        <div class="form-group">
                                            <label for="password" class="form-label">Password</label>
                                            <input
                                                type="password"
                                                formControlName="password"
                                                class="form-control"
                                                [ngClass]="{ 'is-invalid': submitted && fP['password'].errors }"
                                            />
                                            <div *ngIf="submitted && fP['password'].errors" class="invalid-feedback">
                                                <div *ngIf="fP['password'].errors['required']">Password is required</div>
                                                <div *ngIf="fP['password'].errors['minlength']">Password needs to be at least 6 characters long</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="mb-3">
                                        <div class="form-group">
                                            <label for="confirmPassword" class="form-label">Confirm Password</label>
                                            <input
                                                type="password"
                                                formControlName="confirmPassword"
                                                class="form-control"
                                                [ngClass]="{ 'is-invalid': submitted && fP['confirmPassword'].errors }"
                                                />
                                            <div *ngIf="submitted && fP['confirmPassword'].errors" class="invalid-feedback">
                                                <div *ngIf="fP['confirmPassword'].errors['required']">Confirm Password is required</div>
                                                <div *ngIf="fP['confirmPassword'].errors['minlength']">Confirm Password needs to be at least 6 characters long</div>
                                                <div *ngIf="fP['confirmPassword'].errors['matching']">
                                                    Confirm Password does not match
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="mb-3">
                                        <div class="form-group">
                                            <label for="name" class="form-label">ชื่อ</label>
                                            <input
                                                type="text"
                                                formControlName="name"
                                                class="form-control"
                                                [ngClass]="{ 'is-invalid': submitted && fP['name'].errors }"
                                            />
                                            <div *ngIf="submitted && fP['name'].errors" class="invalid-feedback">
                                                <div *ngIf="fP['name'].errors['required']">Name is required</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="mb-3">
                                        <div class="form-group">
                                            <label for="surname" class="form-label">นามสกุล</label>
                                            <input
                                                type="text"
                                                formControlName="surname"
                                                class="form-control"
                                                [ngClass]="{ 'is-invalid': submitted && fP['surname'].errors }"
                                            />
                                            <div *ngIf="submitted && fP['surname'].errors" class="invalid-feedback">
                                                <div *ngIf="fP['surname'].errors['required']">Name is required</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="mb-3">
                                        <div class="form-group">
                                            <label for="license" class="form-label">เลขใบประกอบ ภ.</label>
                                            <input
                                                type="text"
                                                formControlName="license"
                                                class="form-control"
                                                [ngClass]="{ 'is-invalid': submitted && fP['license'].errors }"
                                            />
                                            <div *ngIf="submitted && fP['license'].errors" class="invalid-feedback">
                                                <div *ngIf="fP['license'].errors['required']">Name is required</div>
                                            </div>
                                        </div>
                                    </div>
                                <button class="btn btn-primary mb-1 mt-2" style="width:-webkit-fill-available" type="submit">Submit</button> 
                            </form>
                        </ng-template>
                        <ng-template #operatorForm>
                            <form [formGroup]="registerFormOperator" (ngSubmit)="onSubmit()">
                                <div class="form-group mb-3">
                                    <label for="email" class="form-label">Email</label>
                                    <input
                                      type="text"
                                      formControlName="email"
                                      class="form-control"
                                      [ngClass]="{ 'is-invalid': submitted && fO['email'].errors }"
                                    />
                                    <div *ngIf="submitted && fO['email'].errors" class="invalid-feedback">
                                      <div *ngIf="fO['email'].errors['required']">Email is required</div>
                                      <div *ngIf="fO['email'].errors['email']">Email is invalid</div>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <div class="form-group">
                                        <label for="password" class="form-label">Password</label>
                                        <input
                                            type="password"
                                            formControlName="password"
                                            class="form-control"
                                            [ngClass]="{ 'is-invalid': submitted && fO['password'].errors }"
                                        />
                                        <div *ngIf="submitted && fO['password'].errors" class="invalid-feedback">
                                            <div *ngIf="fO['password'].errors['required']">Password is required</div>
                                            <div *ngIf="fO['password'].errors['minlength']">Password needs to be at least 6 characters long</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <div class="form-group">
                                        <label for="confirmPassword" class="form-label">Confirm Password</label>
                                        <input
                                            type="password"
                                            formControlName="confirmPassword"
                                            class="form-control"
                                            [ngClass]="{ 'is-invalid': submitted && fO['confirmPassword'].errors }"
                                        />
                                        <div *ngIf="submitted && fO['confirmPassword'].errors" class="invalid-feedback">
                                            <div *ngIf="fO['confirmPassword'].errors['required']">Confirm Password is required</div>
                                            <div *ngIf="fO['confirmPassword'].errors['matching']">
                                                <div *ngIf="fO['confirmPassword'].errors['minlength']">Confirm Password needs to be at least 6 characters long</div>
                                                Confirm Password does not match
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <div class="form-group">
                                        <label for="companyName" class="form-label">ชื่อธุรกิจที่จดทะเบียน</label>
                                        <input
                                            type="text"
                                            formControlName="companyName"
                                            class="form-control"
                                            [ngClass]="{ 'is-invalid': submitted && fO['companyName'].errors }"
                                        />
                                        <div *ngIf="submitted && fO['companyName'].errors" class="invalid-feedback">
                                            <div *ngIf="fO['companyName'].errors['required']">Company Name is required</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <div class="form-group">
                                        <label for="jobType" class="form-label">ประเภทธุรกิจ</label>
                                        <select formControlName="jobType" class="form-select" [ngClass]="{ 'is-invalid': submitted && fO['jobType'].errors }" aria-label="Default select example">
                                            <option selected value="ร้านยาทั่วไป">ร้านยาทั่วไป</option>
                                            <option value="ร้านยาแบรนด์">ร้านยาแบรนด์</option>
                                            <option value="โรงพยาบาล">โรงพยาบาล</option>
                                            <option value="โรงงาน">โรงงาน</option>
                                            <option value="บริษัทยา">บริษัทยา</option>
                                            <option value="มหาวิทยาลัย">มหาวิทยาลัย</option>
                                            <option value="อื่นๆ">อื่นๆ</option>
                                        </select>
                                        <div *ngIf="submitted && fO['jobType'].errors" class="invalid-feedback">
                                            <div *ngIf="fO['jobType'].errors['required']">Job Type is required</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <div class="form-group">
                                        <label for="companyID" class="form-label">เลขจดทะเบียนบริษํท</label>
                                        <input
                                            type="text"
                                            formControlName="companyID"
                                            class="form-control"
                                            [ngClass]="{ 'is-invalid': submitted && fO['companyID'].errors }"
                                        />
                                        <div *ngIf="submitted && fO['companyID'].errors" class="invalid-feedback">
                                            <div *ngIf="fO['companyID'].errors['required']">Company ID is required</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <div class="form-group">
                                        <label for="nameOfPerson" class="form-label">ชื่อผู้ติดต่อ</label>
                                        <input
                                            type="text"
                                            formControlName="nameOfPerson"
                                            class="form-control"
                                            [ngClass]="{ 'is-invalid': submitted && fO['nameOfPerson'].errors }"
                                        />
                                        <div *ngIf="submitted && fO['nameOfPerson'].errors" class="invalid-feedback">
                                            <div *ngIf="fO['nameOfPerson'].errors['required']">Name of Person is required</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <div class="form-group">
                                        <label for="phoneNumber" class="form-label">เบอร์โทรผู้ติดต่อ</label>
                                        <input
                                            type="text"
                                            formControlName="phoneNumber"
                                            class="form-control"
                                            [ngClass]="{ 'is-invalid': submitted && fO['phoneNumber'].errors }"
                                        />
                                        <div *ngIf="submitted && fO['phoneNumber'].errors" class="invalid-feedback">
                                            <div *ngIf="fO['phoneNumber'].errors['required']">Phone Number is required</div>
                                        </div>
                                    </div>
                                </div>
                                <button class="btn btn-primary mb-1 mt-2" style="width:-webkit-fill-available" type="submit">Submit</button> 
                            </form>

                        </ng-template>
                    </div>
                </div>
            </div>
            <div class="col-6">
                <swiper #swiper [virtual]="true">
                    <ng-template swiperSlide><img style="width:-webkit-fill-available" src="assets/pharmacist.jpg"></ng-template>
                    <ng-template swiperSlide><img style="width:-webkit-fill-available" src="assets/operator.jpg"></ng-template>
                  </swiper>
            </div>
        </div>
    </div>
</div>
